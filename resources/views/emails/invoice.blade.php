<!DOCTYPE html>
<html lang="en" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
  <meta charset="utf-8">
  <meta name="x-apple-disable-message-reformatting">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no, date=no, address=no, email=no, url=no">
  <meta name="color-scheme" content="light dark">
  <meta name="supported-color-schemes" content="light dark">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <!--[if mso]>
            <noscript>
                <xml>
                    <o:OfficeDocumentSettings xmlns:o="urn:schemas-microsoft-com:office:office">
                        <o:PixelsPerInch>96</o:PixelsPerInch>
                    </o:OfficeDocumentSettings>
                </xml>
            </noscript>
            <style>
                td,
                th,
                div,
                p,
                a,
                h1,
                h2,
                h3,
                h4,
                h5,
                h6 {
                    font-family: 'Segoe UI', sans-serif;
                    mso-line-height-rule: exactly;
                }
            </style>
        <![endif]-->
  <title>Confirm your email address</title>
  <style>
    .space-y-4 > :not([hidden]) ~ :not([hidden]) {
      --tw-space-y-reverse: 0 !important;
      margin-top: calc(16px * calc(1 - var(--tw-space-y-reverse))) !important;
      margin-bottom: calc(16px * var(--tw-space-y-reverse)) !important
    }
  </style>
</head>
<body style="margin: 0; display: flex; width: 100%; justify-content: center; background-color: #f8fafc; padding: 0; -webkit-font-smoothing: antialiased; word-break: break-word">
  <div style="display: none">
    Please confirm your email address in order to activate your account.
    &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847; &#8199;&#65279;&#847;
  </div>
  <main role="article" aria-roledescription="email" aria-label="Confirm your email address" lang="en" style="box-sizing: border-box; display: flex; height: 842px; width: 595px; flex-direction: column; font-family: Inter, sans-serif; color: #000001; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)">
    <div style="flex: 1 1 0%; padding-left: 16px; padding-right: 16px">
      <header style="margin-top: 16px; display: flex; align-items: center; justify-content: space-between">
        <img src="{{ asset('assets/emails/cyberspark_full_light.svg') }}" style="max-width: 100%; vertical-align: middle; height: 48px; object-fit: contain" alt="">
        <div style="display: flex; align-items: center; gap: 8px">
          <div style="position: relative; display: flex; justify-content: center">
            <svg xmlns="http://www.w3.org/2000/svg" style="color: {{ $order->payment_status == 'partial' ? '#fbbf24' : ($order->payment_status == 'paid' ? '#4ade80' : '#f43f5e') }}; height: 40px; width: 40px" viewBox="0 0 24 24">
              <path fill="currentColor" d="M12.394 1.862 15.038.058a.329.329 0 0 1 .481.129l1.322 2.75a.699.699 0 0 0 .683.394l3.04-.23a.31.31 0 0 1 .334.334l-.23 3.041a.699.699 0 0 0 .395.683l2.75 1.322a.328.328 0 0 1 .13.481l-1.804 2.644a.699.699 0 0 0 0 .788l1.804 2.644a.328.328 0 0 1-.13.481l-2.75 1.322a.699.699 0 0 0-.394.683l.23 3.04a.31.31 0 0 1-.334.334l-3.041-.23a.699.699 0 0 0-.683.395l-1.322 2.75a.328.328 0 0 1-.481.13l-2.644-1.804a.699.699 0 0 0-.788 0l-2.644 1.804a.328.328 0 0 1-.481-.13l-1.322-2.75a.698.698 0 0 0-.683-.394l-3.04.23a.31.31 0 0 1-.334-.334l.23-3.041a.699.699 0 0 0-.395-.683L.187 15.52a.328.328 0 0 1-.13-.481l1.804-2.644a.698.698 0 0 0 0-.788L.057 8.962a.329.329 0 0 1 .13-.481l2.75-1.322a.698.698 0 0 0 .394-.683l-.23-3.04a.31.31 0 0 1 .334-.334l3.041.23a.698.698 0 0 0 .683-.395L8.48.187a.329.329 0 0 1 .481-.13l2.644 1.804a.698.698 0 0 0 .788 0v.001Z"></path>
            </svg>
            <span style="transform: rotate(-20deg); position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; text-wrap: nowrap; font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', sans-serif; font-size: 10px; font-weight: 600; color: #fffffe">{{ \Str::title($order->payment_status) }}</span>
          </div>
          <h2 style="margin-top: 0; margin-bottom: 0; display: flex; align-items: center; color: #4b5563">INV#{{ sprintf('%05d', $order->id) }}</h2>
        </div>
      </header>
      <section style="margin-top: 16px; margin-bottom: 16px; display: flex; justify-content: space-between">
        <div class="space-y-4" style="width: 58.333333%">
          <div style="display: flex; gap: 8px; font-size: 12px">
            <span style="font-weight: 700; color: #4b5563">INVOICE DATE</span>
            <span style="font-weight: 600;">{{ $order->created_at->format('jS F, Y') }}</span>
          </div>
          <div style="display: flex; flex-direction: column; font-size: 12px; font-weight: 500; margin-top: calc(16px * calc(1 - 0)); margin-bottom: calc(16px * 0)">
            <span style="font-weight: 600; text-transform: uppercase; letter-spacing: 0.025em">Cyberspark</span>
            <div style="margin-top: 4px; display: flex">
              <span style="border: 0px solid #d1d5db; border-right-width: 1px; padding-right: 4px">0123456789</span>
              <span style="padding-left: 4px">0123456789</span>
            </div>
            <span>House - 38, Road - 7, Block - E, Banasree</span>
            <span>Rampura, Dhaka - 1219</span>
          </div>
          <div style="font-size: 12px; font-weight: 600; margin-top: calc(16px * calc(1 - 0)); margin-bottom: calc(16px * 0);">Sales Rep: <span style="font-weight: 500;">{{ $order->salesRep->name }}</span></div>
        </div>
        <div class="space-y-4" style="width: 41.666667%; font-size: 12px">
          <div style="font-weight: 700; color: #4b5563; text-underline-offset: 1px; text-decoration: underline">BILLED TO</div>
          <div style="display: flex; flex-direction: column; font-size: 12px; font-weight: 500; margin-top: calc(16px * calc(1 - 0)); margin-bottom: calc(16px * 0);">
            <span style="font-weight: 600; text-transform: uppercase; letter-spacing: 0.025em;">{{ $order->customer->name }}</span>
            <span style="margin-top: 4px;">{{ $order->shippingAddress->contact_number }}</span>
            <span>{{ $order->shippingAddress->street }}, {{ $order->shippingAddress->city }}</span>
            <span>{{ \Str::title($order->shippingAddress->state) }} - {{ $order->shippingAddress->zip }}</span>
          </div>
        </div>
      </section>
      <table style="width: 100%; border: 0px solid #e5e7eb; border-top: 1px solid #e5e7eb" cellpadding="0" cellspacing="0" role="none">
        <tr style="height: 32px; font-size: 10px">
          <th style="border: solid #e5e7eb; border-width: 0px 0px 1px; padding-left: 8px; padding-right: 8px; text-align: start">ITEM DETAILS</th>
          <th style="text-wrap: nowrap; border: solid #e5e7eb; border-width: 0px 0px 1px; padding-left: 8px; padding-right: 8px; text-align: end">RETAIL PRICE</th>
          <th style="text-wrap: nowrap; border: solid #e5e7eb; border-width: 0px 0px 1px; padding-left: 8px; padding-right: 8px; text-align: end;">SELLING PRICE</th>
          <th style="text-wrap: nowrap; border: solid #e5e7eb; border-width: 0px 0px 1px; padding-left: 8px; padding-right: 8px; text-align: end;">QUANTITY</th>
          <th style="text-wrap: nowrap; border: solid #e5e7eb; border-width: 0px 0px 1px; padding-left: 8px; padding-right: 8px; text-align: end;">TOTAL</th>
        </tr>
        @foreach ($order->orderVariants as $variant)
        <tr style="font-size: 12px; font-weight: 500;">
          <td style="display: flex; flex-direction: column; gap: 8px; border-color: #e5e7eb; border-style: solid; border-width: 0px 1px 1px 0px; padding: 8px">
            <span>{{ \Str::title($variant->productVariant->product->name) }}</span>
            <span style="font-size: 10.5px; font-weight: 500; color: #6b7280">SKU: {{ $variant->productVariant->product->sku_prefix . sprintf('%05d', $variant->productVariant->id)}}</span>
          </td>
          <td style="border-color: #e5e7eb; border-style: solid; border-width: 0px 1px 1px 0px; padding: 8px; text-align: end; vertical-align: top">BDT {{ number_format((float) $variant->productVariant->retail_price, 2) }}</td>
          <td style="border-color: #e5e7eb; border-style: solid; border-width: 0px 1px 1px 0px; padding: 8px; text-align: end; vertical-align: top;">BDT {{ number_format((float) $variant->unit_price, 2) }}</td>
          <td style="border-color: #e5e7eb; border-style: solid; border-width: 0px 1px 1px 0px; padding: 8px; text-align: end; vertical-align: top;">{{ $variant->quantity }}&times;</td>
          <td style="border: solid #e5e7eb; border-width: 0px 0px 1px; padding: 8px; text-align: end; vertical-align: top;">BDT {{ number_format((float) $variant->subtotal, 2) }}</td>
        </tr>
        @endforeach
        <tr style="font-size: 12px;">
          <td colspan="2"></td>
          <td colspan="3">
            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 12px; padding: 12px 8px 8px">
              <div style="display: flex; width: 100%; justify-content: space-between;">
                <span style="font-weight: 500; color: #4b5563;">Subtotal</span>
                <span style="font-weight: 600;">BDT {{ number_format((float) $order->total_subtotal,2)}}</span>
              </div>
              <div style="display: flex; width: 100%; justify-content: space-between;">
                <span style="font-weight: 500; color: #4b5563;">Delivery Cost</span>
                <span style="font-weight: 600;">BDT {{ number_format((float) $order->delivery_cost, 2) }}</span>
              </div>
              <div style="display: flex; width: 100%; justify-content: space-between;">
                <span style="font-weight: 500; color: #4b5563;">Total Payable</span>
                <span style="font-weight: 600;">BDT {{ number_format((float) $order->total_payable, 2) }}</span>
              </div>
              @if($order->transactions_sum_amount)
              <div style="display: flex; width: 100%; justify-content: space-between;">
                <span style="font-weight: 500; color: #4b5563;">Total Paid</span>
                <span style="font-weight: 600;">BDT {{ number_format((float) $order->transactions_sum_amount, 2) }}</span>
              </div>
              @endif @if($order->transactions_sum_amount != $order->total_payable)
              <div style="display: flex; width: 100%; justify-content: space-between; border: 0px solid #e5e7eb; border-top: 1px solid #e5e7eb; padding-top: 8px">
                <span style="font-weight: 500; color: #4b5563;">Total Remaining</span>
                <span style="font-weight: 600;">BDT {{ number_format((float) ($order->total_payable - $order->transactions_sum_amount), 2) }}</span>
              </div>
              @endif
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div style="display: flex; flex-direction: column;">
      <div style="margin-left: 16px; margin-right: 16px; width: fit-content; align-self: flex-end; border: 0px solid #000001; border-top: 1px solid #000001; padding-top: 4px; padding-bottom: 4px">
        <span style="font-size: 12px;">Manager's Signature</span>
      </div>
      <footer style="margin-top: 8px; display: flex; justify-content: center; border: 0px solid #9ca3af; border-top: 1px solid #9ca3af; padding-left: 16px; padding-right: 16px; vertical-align: bottom">
        <span style="margin-top: 8px; margin-bottom: 8px; font-size: 12px; font-weight: 500">Made by <a href style="color: #b91c1c; text-decoration: none">Sprint Devs</a></span>
      </footer>
    </div>
  </main>
</body>
</html>